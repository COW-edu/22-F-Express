### Express.js

ì„œë²„ ë¡œì§ì€ ë§¤ìš° ë³µì¡í•œë°, ìš°ë¦¬ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ê°™ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì •ì˜í•˜ëŠ” ì½”ë“œì— ì§‘ì¤‘í•˜ê³  ì‹¶ë‹¤!

Express.jsëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ì²˜ë¦¬ì— ì§‘ì¤‘í•˜ëŠ”ë° ë„ì›€ì„ ì£¼ëŠ” í”„ë ˆì„ì›Œí¬ì´ë‹¤.

```jsx
import express from "express";
const app = express();
const server = http.createServer(app);
```

- ìƒìˆ˜ `app` ì— express í”„ë ˆì„ì›Œí¬ì˜ ë¡œì§ì´ ë‹´ê¹€.
- `app` ì€ ìœ íš¨í•œ ìš”ì²­ í•¸ë“¤ëŸ¬ì´ê¸° ë•Œë¬¸ì— `app` ì„ ì‚¬ìš©í•´ ì„œë²„ ìƒì„± ê°€ëŠ¥

- ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ë¶„ì„í•˜ê¸° ìœ„í•´ ì•„ë˜ì˜ ì½”ë“œë¥¼ ì§¬.
    - bodyë¥¼ ì¶”ì¶œí•˜ê¸° ìœ„í•´ ì§ì ‘ ë°ì´í„° ì´ë²¤íŠ¸ì™€ end ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ë‚œ í›„ ë§ˆì§€ë§‰ì—ëŠ” ë¬¸ìì—´ë¡œ ë³€í™˜í–ˆë˜ ë²„í¼ë¥¼ ìƒì„±í•´ì•¼ í–ˆìŒ

```jsx
req.on('data', (chunk)=>{
            console.log(chunk);
            body.push(chunk);
        });
        return req.on('end', ()=>{
            const parsedBody = Buffer.concat(body).toString();
            ...
            });
        });
```

- ë°ì´í„°ë¥¼ ì·¨ê¸‰í•˜ê±°ë‚˜ íŒŒì‹±í•˜ëŠ” ë°©ë²•ì„ ë‚´ë¶€ì— í¬í•¨í•˜ê³  ìˆëŠ” ê²ƒì€ ì•„ë‹ˆì§€ë§Œ íŒŒì‹±ì„ ëŒ€ì‹ í•´ ì£¼ê¸° ìœ„í•œ í”„ë¡œì íŠ¸ ë‚´ë¶€ì— ì‰½ê²Œ ì—°ê²°í•˜ëŠ” ë‹¤ë¥¸ íŒ¨í‚¤ì§€ë¥¼ ì‰½ê²Œ ì„¤ì¹˜í•˜ë„ë¡ ë„ì™€ì¤Œ
    - íŒŒì‹±: ë¬¸ì„œë‚˜ HTML ë“± ì–´ë–¤ í° ìë£Œì—ì„œ ë‚´ê°€ ì›í•˜ëŠ” ì •ë³´ë§Œ ê°€ê³µí•˜ê³  ì¶”ì¶œí•´ì„œ ì›í•  ë•Œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒ
        - íŠ¹ì • íŒ¨í„´ì´ë‚˜ ìˆœì„œë¡œ ì¶”ì¶œí•´ì„œ ì •ë³´ë¡œ ê°€ê³µí•  ìˆ˜ ìˆìŒ
- íŠ¹ì§•
    - ë§¤ìš° ìœ ì—°í•˜ë©°, íŠ¹ë³„í•œ ê¸°ëŠ¥ì„ ê³¼ë„í•˜ê²Œ ì¶”ê°€í•˜ì§€ ì•ŠìŒ
    - ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ê±°ë‚˜ ìœ ì…ë˜ëŠ” ìš”ì²­ë“¤ì„ ì²˜ë¦¬í•¨ì— ìˆì–´ì„œ íŠ¹ë³„í•œ ë°©ë²•ì„ ì œê³µí•´ ë†’ì€ í™•ì¥ì„±ì„ ê°€ì§„ë‹¤ â†’ Expressë¥¼ ëŒ€ìƒìœ¼ë¡œ êµ¬ì¶•ëœ ì œ 3ì íŒ¨í‚¤ì§€ì˜ ìˆ˜ëŠ” ìˆ˜ì²œê°œ ì¡´ì¬í•˜ë©° ì‰½ê²Œ Node Express ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì¶”ê°€í•  ìˆ˜ ìˆìŒ
    - ê¹”ë”í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë° ë„ì›€ì„ ì¤Œ

### Middleware

**Middlewareë€?**

í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìš”ì²­ì´ ì˜¤ê³  ê·¸ ìš”ì²­ì„ ë³´ë‚´ê¸° ìœ„í•´ ì‘ë‹µí•˜ë ¤ëŠ” ì¤‘ê°„(ë¯¸ë“¤)ì— ëª©ì ì— ë§ê²Œ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì˜ë¯¸í•œë‹¤.

ì„œë²„ì— ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ express.jsì˜ ë‹¤ì–‘í•œ í•¨ìˆ˜ë¥¼ í†µí•´ ìë™ìœ¼ë¡œ ì´ë™í•˜ê²Œ í•œë‹¤.

í•˜ë‚˜ì˜ í•¨ìˆ˜ì—ì„œ ëª¨ë“  ê±¸ ì²˜ë¦¬í•˜ê²Œ í•˜ì§€ ì•Šê³  ë¶„ë¦¬í•œë‹¤.

```jsx
app.use((req, res, next) => {
  console.log("In the middleware1!");
  next();
});
app.use((req, res, next) => {
  console.log("In the middleware2!");
});

```

- `(req, res, next) â‡’ {};` ì˜ í˜•íƒœë¥¼ ê°€ì§„ í•¨ìˆ˜ëŠ” ëª¨ë‘ middlewareë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.
- íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ `next`ëŠ” ë‹¤ìŒ middlewareì— ëŒ€í•œ ì—‘ì„¸ìŠ¤ ê¶Œí•œì„ ê°–ëŠ” í•¨ìˆ˜ì´ë©°, ë‹¤ìŒ middlewareë¡œ ì´ë™í•˜ëŠ” ì—­í• ì„ í•œë‹¤.

**Middleware ë™ì‘ ì›ë¦¬**

![https://user-images.githubusercontent.com/106325839/191742334-295f3971-dfce-4b95-ae7c-b93b081f6584.png](https://user-images.githubusercontent.com/106325839/191742334-295f3971-dfce-4b95-ae7c-b93b081f6584.png)

MiddlewareëŠ” ìš”ì²­ì´ ë“¤ì–´ì˜¨ ìˆœê°„ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ ì‘ë‹µì´ ë§ˆë¬´ë¦¬ ë  ë•Œê¹Œì§€ ë™ì‘ ì‚¬ì´í´ì´ ì‹¤í–‰ëœë‹¤.

**ë¯¸ë“¤ì›¨ì–´ë¥¼ í™œìš©í•œ ì œì–´**

ë¯¸ë“¤ì›¨ì–´ë¥¼ í™œìš©í•´ ë¬´ì—‡ì´ í‘œì‹œë˜ëŠ”ì§€ ì œì–´í•  ë•ŒëŠ” `next()` ì˜ í˜¸ì¶œ ì—¬ë¶€ ë¿ë§Œ ì•„ë‹ˆë¼, ë¯¸ë“¤ì›¨ì–´ì˜ ìˆœì„œë„ ì¤‘ìš”í•˜ë‹¤. â†’ Node.js ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì½ê¸° ë•Œë¬¸

ì•„ë˜ëŠ” ë¯¸ë“¤ì›¨ì–´ì˜ ì‹¤í–‰ ìˆœì„œì— ê´€í•œ ì½”ë“œì™€ ê°„ë‹¨í•œ í€´ì¦ˆì´ë‹¤.

```jsx
app.use("/", (req, res, next) => {
  console.log("a");
  next();
});
app.use("/add-product", (req, res, next) => {
  console.log("In another Middleware1");
  res.send('<h1>The "Add-Product" Page</h1>');
});
app.use("/", (req, res, next) => {
  console.log("In another Middleware2");
  res.send("<h1>Hello from Express!</h1>");
});
// Q1. localhost:3000 -> localhost:3000/add-product ì–´ë–¤ í™”ë©´ì´ ë‚˜ì˜¤ê³ , ì½˜ì†”ì°½ì€ ì–´ë–»ê²Œ ì¶œë ¥ì´ ë ê¹Œ?

// Answer: ì½˜ì†”ì°½ì—ì„œëŠ” a, In anoter Middleware2, a, In another Middleware1 ìˆœìœ¼ë¡œ ì¶œë ¥ë˜ê³ , ìµœì¢… í™”ë©´ì—ëŠ” The "Add-Product" Page ê°€ ì¶œë ¥ëœë‹¤.
```

**ìš”ì²­ ë¶„ì„**

ê¸°ë³¸ì ìœ¼ë¡œ requestëŠ” ë“¤ì–´ì˜¤ëŠ” request bodyì— ëŒ€í•œ ë‚´ìš©ì„ ë¶„ì„í•˜ë ¤ í•˜ì§€ ì•ŠëŠ”ë‹¤.

â†’ request body ë¶„ì„ì„ ìœ„í•œ middleware ì¶”ê°€ êµ¬í˜„

```jsx
//urlencoded()ê°€ ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜ í¬í•¨, next()ì‹¤í–‰
app.use(express.urlencoded({ extended: false }));
app.use("/", (req, res, next) => {
  console.log("a");
  next();
});
```

- ì¼ë°˜ì ìœ¼ë¡œ ê²½ë¡œ ì²˜ë¦¬ ë¯¸ë“¤ì›¨ì–´ ì „ì— ë‘”ë‹¤. â†’ ìš”ì²­ì´ ì–´ëŠ ê²½ë¡œë¡œ í–¥í•˜ë“  request body ë¶„ì„ì´ ì´ë¤„ì§€ë„ë¡ í•¨.
- `{extended : false}`: ë¹„í‘œì¤€ request body ë¶„ì„ ì—¬ë¶€
- body-parser ê°€ ìˆ˜í–‰. (express 4.x.x ë¶€í„° ë‚´ì¥ìœ¼ë¡œ body-parser ì¥ì°©)

<aside>
ğŸ’¡ urlencoded({extended: true or false })ëŠ” ì–´ë–¤ ì˜µì…˜ì¼ê¹Œ?

</aside>

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê³  ì½ì„ ë•ŒëŠ” ê°ì²´ í˜•íƒœë¥¼ ë„ê³ , ì‹¤ì œë¡œ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì„ ë•Œë„ ê°ì²´ í˜•íƒœë¥¼ ì„ í˜¸í•œë‹¤. (ë”°ë¼ì„œ ì—¬ëŸ¬ ê³¼ì •ì„ ê±°ì³ íŒŒì‹±ì„ ê±°ì³ì•¼ í•˜ëŠ” ê²ƒì´ë‹¤ )

extended ì˜µì…˜ì˜ ê²½ìš°, trueì¼ ê²½ìš°, ê°ì²´ í˜•íƒœë¡œ ì „ë‹¬ëœ ë°ì´í„° ë‚´ì—ì„œ ë˜ ë‹¤ë¥¸ ì¤‘ì²©ëœ ê°ì²´ë¥¼ í—ˆìš©í•œë‹¤ëŠ” ë§ì´ë©°, falseì¸ ê²½ìš°ì—ëŠ” í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë§ì´ë‹¤.

ê·¸ë ‡ë‹¤ë©´ trueì™€ falseë¡œ ì„¸íŒ…í–ˆì„ ë•Œ ì°¨ì´ê°€ ë¬´ì—‡ì¼ê¹Œ?

**bodyParser ë¯¸ë“¤ì›¨ì–´ì˜ ì—¬ëŸ¬ ì˜µì…˜ ì¤‘ì— í•˜ë‚˜ë¡œ false ê°’ì¼ ì‹œ node.jsì— ê¸°ë³¸ìœ¼ë¡œ ë‚´ì¥ëœ queryString, true ê°’ì¼ ì‹œ ë”°ë¡œ ì„¤ì¹˜ê°€ í•„ìš”í•œ npm qs ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤.**

queryString ê³¼ qs ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‘˜ ë‹¤ url queryString ì„ íŒŒì‹±í•´ì£¼ëŠ” ê°™ì€ ë§¥ë½ì— ìˆìœ¼ë‚˜ qsê°€ ì¶”ê°€ì ì¸ ë³´ì•ˆì´ ê°€ëŠ¥í•œ, ë§ ê·¸ëŒ€ë¡œ extended í™•ì¥ëœ í˜•íƒœì´ë‹¤. ê¸°ë³¸ì´ true ê°’ì´ë‹ˆ qs ëª¨ë“ˆì„ ì„¤ì¹˜í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ false ê°’ìœ¼ë¡œ ë”°ë¡œ ì„¤ì •ì„ í•´ì£¼ì–´ì•¼ í•œë‹¤.

ì¦‰ qsëŠ” ì¶”ê°€ì ì¸ ë³´ì•ˆê¸°ëŠ¥ì´ ìˆëŠ” ëª¨ë“ˆë¡œì„œ í•„ìš”í•˜ë‹¤ë©´ ëª¨ë“ˆ ì„¤ì¹˜í›„ì— ì‚¬ìš©í•˜ë©´ ëœë‹¤.

ì•„ë¬´ë˜ë„ ì¤‘ì²©ëœ ê°ì²´ë¥¼ í—ˆìš©í•œë‹¤ëŠ” ë§ì€ ì¶”ê°€ì ì¸ ë³´ì•ˆê¸°ëŠ¥ì´ ìˆëŠ” ê²ƒì— ëŒ€í•œ ì¼ë¶€ ì‚¬ìš©ì— ëŒ€í•œ ì„¤ëª…ì¸ ê²ƒìœ¼ë¡œ ì¶”ì¸¡ëœë‹¤.

### ë¯¸ë“¤ì›¨ì–´ ì‹¤í–‰ ì œí•œ

í˜„ì¬ `app.use()` ëŠ” POST ìš”ì²­ ë¿ë§Œ ì•„ë‹ˆë¼ GETìš”ì²­ì— ëŒ€í•´ì„œë„ ì‹¤í–‰ëœë‹¤.

- `app.get()`
    - `app.use()` ì™€ ê¸°ë³¸ì ìœ¼ë¡œ ë™ì¼í•˜ì§€ë§Œ, GET ìš”ì²­ì—ë§Œ ì‘ë™
    - GET ìš”ì²­ë§Œ í™•ì¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì •í™•í•œ ê²½ë¡œì¸ì§€ë„ í™•ì¸
- `app.post()`
    - `app.use()` ì™€ ê¸°ë³¸ì ìœ¼ë¡œ ë™ì¼í•˜ì§€ë§Œ, POST ìš”ì²­ì—ë§Œ ì‘ë™
    - POST ìš”ì²­ë§Œ í™•ì¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì •í™•í•œ ê²½ë¡œì¸ì§€ë„ í™•ì¸
    

## ë¼ìš°íŒ…

ì£¼ì†Œ(IP)ë¥¼ ì •í•˜ê³ , ê²½ë¡œë¥¼ ì„ íƒí•˜ê³ , íŒ¨í‚·ì„ ì „ë‹¬í•˜ëŠ” ê²ƒ

â†’ ëª©ì ì— ë”°ë¼ íš¨ìœ¨ì ì¸ í”„ë¡œí† ì½œì„ ì„ íƒí•˜ëŠ” ê²ƒ

- ë„¤íŠ¸ì›Œí¬ì—ì„œ íŒ¨í‚·ì„ ë³´ë‚¼ ë•Œ ëª©ì ì§€ê¹Œì§€ ê°ˆ ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ê²½ë¡œ ì¤‘ í•˜ë‚˜ì˜ ê²½ë¡œë¥¼ ì„¤ì •í•´ì£¼ëŠ” ê³¼ì •
- íŒŒì¼ í¬ê¸°ê°€ ì»¤ì§ì— ë”°ë¼ì„œ ì¼ë°˜ì ìœ¼ë¡œ ë¼ìš°íŒ… ì½”ë“œë¥¼ ì—¬ëŸ¬ íŒŒì¼ë¡œ ë‚˜ëˆ„ëŠ” ê²ƒì´ ì¢‹ìŒ â†’ **ìœ ì§€ë³´ìˆ˜ë¥¼ ìœ„í•´**ì„œ ë‚˜ëˆˆë‹¤, íŒŒì¼ í¬ê¸°ê°€ ì»¤ì§€ë©´ ì‹¤í–‰ì— ì‹œê°„ì´ ì˜¤ë˜ê±¸ë¦¼
    - Express.jsëŠ” ë¼ìš°íŒ…ì„ ë‹¤ë¥¸ íŒŒì¼ì— ìœ„íƒí•˜ëŠ” ë°©ë²•ì„ ì œê³µ
    - ë¼ìš°íŒ…ì— ì˜í•œ ê²°ê³¼ = **ë¼ìš°íŠ¸**
- ì•„ì›ƒì†Œì‹± ë¼ìš°íŠ¸ë“¤ì€ ì‹œì‘ ê²½ë¡œë¥¼ ê³µìœ í•˜ëŠ” ê²½ìš°ê°€ ìˆìŒ
    - ì•„ì›ƒì†Œì‹± â†’ routes/admin.js ì—ì„œ /admin/add-product ë¼ê³  ì¨ì•¼í•˜ëŠ”ë° /adminì„ ê³„ì† ì¨ì•¼í•  ìˆ˜ ì—†ìœ¼ë‹ˆê¹Œ get, postë¥¼ ê°ê° ì•„ì›ƒì†Œì‹±ëë‹¤ê³  ë§í•¨
    - ì£¼ì–´ì§„ íŒŒì¼ì˜ ëª¨ë“  ë£¨íŠ¸ê°€ app.js íŒŒì¼ë¡œ ìœ„íƒí•˜ëŠ” ë° ì‚¬ìš©í•  ê³µí†µ ê²½ë¡œë¥¼ ì•ì— ì¶”ê°€í•  ìˆ˜ ìˆìŒ â†’ ëª¨ë“  ë£¨íŠ¸ì— ëŒ€í•´ ë°˜ë³µí•´ì„œ ì…ë ¥í•  í•„ìš”ê°€ ì—†ìŒ
    
    ```jsx
    app.use('/admin',adminRoutes);
    ```
    
    â†’ adminìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë¼ìš°íŠ¸ë§Œ adminRoutes íŒŒì¼ë¡œ ë“¤ì–´ê°
    
    â†’ /add-productëŠ” /admin/add-product ë¼ìš°íŠ¸ì— ë§¤ì¹­ë¨
    
    ~> /admin/add-productì—¬ì•¼ë§Œ í¼ì´ ë‚˜íƒ€ë‚¨
    

### ì˜¤ë¥˜ í˜ì´ì§€

ìš”ì²­ì²˜ë¦¬(ë¯¸ë“¤ì›¨ì–´ ì‹¤í–‰)ëŠ” ì‘ì„± ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ìš”ì²­ì„ ì²˜ë¦¬í•  ë¯¸ë“¤ì›¨ì–´ê°€ ì—†ë‹¤ë©´ ìš”ì²­ì´ ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤.

â†’ ì˜¤ë¥˜ í˜ì´ì§€ ì „ì†¡ì€ ë§¨ ì•„ë˜ ëª¨ë“  ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ë¥¼ ì¶”ê°€

```jsx
app.use((req, res, next) => {
  res.status(404).send("<h1>Page not found</h1>");
});

```

- `status()`:ìƒíƒœì½”ë“œ ì„¤ì •

### Response Class ì—ëŸ¬ ì½”ë“œ

- 400ë²ˆëŒ€ ì—ëŸ¬ ì½”ë“œëŠ” í´ë¼ì´ì–¸íŠ¸ ì˜¤ë¥˜ë¡œ, í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ì–´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤.
- 500ë²ˆëŒ€ ì—ëŸ¬ ì½”ë“œëŠ” ì„œë²„ì—ì„œ ì²˜ë¦¬ë¥¼ í•˜ì§€ ëª»í•´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì—ëŠ” ë¬¸ì œê°€ ì—†ë‹¤.

400, 500ë²ˆëŒ€ ì—ëŸ¬ ì½”ë“œ ì¤‘ì—ì„œ 5ê°€ì§€ì”©ë§Œ ì •ë¦¬í•´ ë³´ì•˜ë‹¤.

### 400ë²ˆëŒ€ ì—ëŸ¬ ì½”ë“œ

- 400 - Bad Request

:  í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ êµ¬ë¬¸ì´ ì˜ëª»ë¨.

- 401 - Unautorized

: ìš”ì²­ ì²˜ë¦¬ë¥¼ ìœ„í•´ HTTPì¸ì¦ ì •ë³´ê°€ í•„ìš”í•¨ì„ ì•Œë ¤ì¤Œ. ìµœì´ˆ ìš”ì²­ì—ëŠ” ì¸ì¦ ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ í‘œì‹œí•˜ê³ , ë‘ ë²ˆì§¸ëŠ” ì¸ì¦ ì‹¤íŒ¨ ì‘ë‹µì„ ë³´ëƒ„.

- 403 - Forbidden

ì ‘ê·¼ ê¸ˆì§€ ì‘ë‹µ. ì„œë²„ íŒŒì¼ ë””ë ‰í† ë¦¬ ëª©ë¡ í‘œì‹œ ìš”ì²­ ë° ê´€ë¦¬ì í˜ì´ì§€ ì ‘ê·¼ ë“±ì„ ì°¨ë‹¨í•˜ëŠ” ê²½ìš°ì˜ ì‘ë‹µ.

- 404 - Not Found

í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ê°€ ì„œë²„ì— ì—†ìŒ.

- 405 - Method Not Allowed

í—ˆìš©ë˜ì§€ ì•ŠëŠ” HTTP ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•¨.

### 500ë²ˆëŒ€ ì—ëŸ¬ ì½”ë“œ

- 500 - Internal Server Error

ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ì²˜ë¦¬ ì¤‘ì— ì—ëŸ¬ê°€ ë°œìƒí•¨.

- 503 - Service Unavailable

ì„œë²„ê°€ ì¼ì‹œì ìœ¼ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŒ. ì„œë²„ê°€ ê³¼ë¶€í•˜ ìƒíƒœì´ê±°ë‚˜ ì ê²€ ì¤‘ì´ë¯€ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŒì„ ì•Œë ¤ì¤Œ.

- 504 - Gateway Timeout

ì„œë²„ë¥¼ í†µí•˜ëŠ” ê²Œì´íŠ¸ì›¨ì´ì— ë¬¸ì œê°€ ë°œìƒí•˜ì—¬ ì‹œê°„ì´ ì´ˆê³¼ë¨.

- 505 - HTTP Version Not Supported

í•´ë‹¹ HTTP ë²„ì „ì—ì„œëŠ” ì§€ì›ë˜ì§€ ì•ŠëŠ” ìš”ì²­ì„ì„ ì•Œë ¤ì¤Œ.

**send**

: ì‘ë‹µ ë° anyìœ í˜•ì˜ ë³¸ë¬¸ì„ ì²¨ë¶€ê°€ëŠ¥

- html content type
- ê¸°ë³¸ ì‘ë‹µ í—¤ë” : text/html
- Express.jsì—ì„œ ì…ë ¥í•œ ìœ í˜•ì— ë”°ë¼ì„œ HTML content typeì„ ì¸ì‹í•˜ê³  ì„ íƒ
- setHeaderë¥¼ ì‚¬ìš©í•´ì„œ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì • ê°€ëŠ¥
- writeë³´ë‹¤ ì‰¬ì›€

### ê²½ë¡œ í•„í„°ë§

ì¼ë°˜ì ìœ¼ë¡œ ë¼ìš°í„°íŒŒì¼ ì† ë¯¸ë“¤ì›¨ì–´ë“¤ì€ ì‹œì‘ ê²½ë¡œë¥¼ ê³µìœ í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.

```jsx
router.get("/admin/add-product", (req, res, next) => {
  console.log("a");
  next();
});
app.use("/admin/add-product", (req, res, next) => {
  console.log("b");
  res.send("<form></form>");
});

```

- ê³µí†µë˜ëŠ” ë¼ìš°íŠ¸ ê²½ë¡œë¥¼ ë¹¼ì„œ app.jsì—ì„œ í•„í„°ë¥¼ í•  ìˆ˜ ìˆë‹¤.
`app.use("/admin", adminRoutes);`

### HTML ì„œë¹„ìŠ¤

- `res.sendFile()` : íŒŒì¼ì„ íšŒì‹ í•¨, ì½˜í…ì¸  íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì‘ë‹µ í—¤ë”ë¡œ ì„¤ì •

**ê²½ë¡œ ì„¤ì •**

- ìƒëŒ€ê²½ë¡œ ì„¤ì •ì„ ìœ„í•´ Node.jsì—ì„œ ì œê³µí•˜ëŠ” pathëª¨ë“ˆì„ ì‚¬ìš©
    - `__dirname` : ì ˆëŒ€ê²½ë¡œë¥¼ í”„ë¡œì íŠ¸ í´ë”ë¡œ ê³ ì •
    - ì‰¼í‘œë¡œ ì¡°í•©í•˜ë©´ì„œ ìµœì¢… íŒŒì¼ ê²½ë¡œ ìƒì„±
    
    ```jsx
    res.sendFile(path.join(__dirname, "../", "views", "shop.html"));
    ```
    
    - `path.join()` : ë‹¤ë¥¸ íŒŒì¼ ì‹œìŠ¤í…œ ê²½ë¡œë¥¼ ìš´ì˜ì²´ì œ ë§ê²Œ ë³€í™˜
- ì ˆëŒ€ê²½ë¡œ: ìµœìƒìœ„ ìœ„ì¹˜ì—ì„œ ì‹œì‘
- ìƒëŒ€ê²½ë¡œ: app.jsì—ì„œ ì‹œì‘í•œë‹¤ê³ í•˜ë©´ app.jsë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì°¾ì•„ê°€ëŠ” ê²ƒ (ë‚˜ ê¸°ì¤€)

### í—¬í¼ í•¨ìˆ˜

```jsx
const path = require('path');

module.exports = path.dirname(process.mainModule.filename);
```

__dirnameìœ¼ë¡œ ì ˆëŒ€ ê²½ë¡œë¥¼ ê³ ì •í•˜ê³  ì‹œì‘í•˜ì§€ ì•Šê³  ë‹¤ë¥¸ íŒŒì¼ì— ìœ„ ì½”ë“œì²˜ëŸ¼ ë¯¸ë¦¬ ê²½ë¡œë¥¼ ì§€ì •í•˜ì—¬ ì›ë˜ ì½”ë“œì— ì„í¬íŠ¸í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•¨.